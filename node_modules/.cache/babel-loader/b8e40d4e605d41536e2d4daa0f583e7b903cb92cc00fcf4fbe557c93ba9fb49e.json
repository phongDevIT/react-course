{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { debounce } from 'lodash';\nfunction useDebounce(value, delay) {\n  if (delay === void 0) {\n    delay = 300;\n  }\n  var _a = useState(value),\n    debounceValue = _a[0],\n    setDebounceValue = _a[1];\n  useEffect(function () {\n    // 方式一\n    var handler = debounce(function (v) {\n      setDebounceValue(v);\n    }, delay, {\n      leading: false,\n      trailing: true\n    });\n    handler(value);\n    return handler.cancel;\n  }, [value, delay]);\n  // 方式二\n  // useEffect(() => {\n  //   const handler = setTimeout(() => {\n  //     setDebounceValue(value)\n  //   }, delay)\n  //   return () => window.clearTimeout(handler)\n  // }, [value, delay])\n  return debounceValue;\n}\nexport default useDebounce;","map":{"version":3,"names":["useEffect","useState","debounce","useDebounce","value","delay","_a","debounceValue","setDebounceValue","handler","v","leading","trailing","cancel"],"sources":["D:/react/client/node_modules/style-components/dist/hooks/useDebounce.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { debounce } from 'lodash';\r\nfunction useDebounce(value, delay) {\r\n    if (delay === void 0) { delay = 300; }\r\n    var _a = useState(value), debounceValue = _a[0], setDebounceValue = _a[1];\r\n    useEffect(function () {\r\n        // 方式一\r\n        var handler = debounce(function (v) {\r\n            setDebounceValue(v);\r\n        }, delay, { leading: false, trailing: true });\r\n        handler(value);\r\n        return handler.cancel;\r\n    }, [value, delay]);\r\n    // 方式二\r\n    // useEffect(() => {\r\n    //   const handler = setTimeout(() => {\r\n    //     setDebounceValue(value)\r\n    //   }, delay)\r\n    //   return () => window.clearTimeout(handler)\r\n    // }, [value, delay])\r\n    return debounceValue;\r\n}\r\nexport default useDebounce;\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,QAAQ;AACjC,SAASC,WAAWA,CAACC,KAAK,EAAEC,KAAK,EAAE;EAC/B,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAAEA,KAAK,GAAG,GAAG;EAAE;EACrC,IAAIC,EAAE,GAAGL,QAAQ,CAACG,KAAK,CAAC;IAAEG,aAAa,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,gBAAgB,GAAGF,EAAE,CAAC,CAAC,CAAC;EACzEN,SAAS,CAAC,YAAY;IAClB;IACA,IAAIS,OAAO,GAAGP,QAAQ,CAAC,UAAUQ,CAAC,EAAE;MAChCF,gBAAgB,CAACE,CAAC,CAAC;IACvB,CAAC,EAAEL,KAAK,EAAE;MAAEM,OAAO,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAAK,CAAC,CAAC;IAC7CH,OAAO,CAACL,KAAK,CAAC;IACd,OAAOK,OAAO,CAACI,MAAM;EACzB,CAAC,EAAE,CAACT,KAAK,EAAEC,KAAK,CAAC,CAAC;EAClB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,OAAOE,aAAa;AACxB;AACA,eAAeJ,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}